
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
  <script src="https://kit.fontawesome.com/65b842e152.js" crossorigin="anonymous"></script>

  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap"
    rel="stylesheet">
    


  <!-- Additional CSS Files -->
  <!-- <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"> -->

  <!-- <link rel="stylesheet" type="text/css" href="/css/font-awesome.css"> -->

  <!-- <link rel="stylesheet" href="/css/templatemo-hexashop.css"> -->

  <!-- <link rel="stylesheet" href="/css/owl-carousel.css"> -->

  <!-- <link rel="stylesheet" href="/css/lightbox.css"> -->

  <style>
    *::selection {
      background-color: transparent;
    }

    * {
      cursor: default;
      box-sizing: border-box;
    }





    .contenir {
      width: 740px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-color: black;
      margin-left: -175px;
    }





 
  </style>

  <style>
    .icon-hover:hover {
      border-color: #3b71ca !important;
      background-color: white !important;
    }

    .icon-hover:hover i {
      color: #3b71ca !important;
    }
  </style>



</head>

<body style="overflow-x: hidden;">
  <%-include('../layout/user/header.ejs')-%>

 <%-include('../partials/usernave.ejs')-%>


<div class="container bg-danger d-flex"></div>
  <!-- sidebar + content -->
  <div class="container d-flex" style="margin-top: 81px;">
    <!-- <div class="container"> -->
      <!-- <div class="row" style="margin: -130px;"> -->
        <!-- sidebar -->
        <form action=""></form>
        <div class="col-lg-3">
          <!-- Toggle button -->
          <button class="btn btn-outline-secondary mb-3 w-100 d-lg-none" type="button" data-mdb-toggle="collapse"
            data-mdb-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span>Show filter</span>
          </button>
          <!-- Collapsible wrapper -->

          <div class="collapse card d-lg-block mb-5" id="navbarSupportedContent">
            <div class="accordion" id="accordionPanelsStayOpenExample">
              
              <form action="/Filter" id="filterform">

              <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                  <button class="accordion-button text-dark bg-light" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                    aria-controls="panelsStayOpen-collapseOne">
                    Catagory
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                  aria-labelledby="headingOne">
                  <div class="accordion-body">
                    <ul class="list-unstyled">
                      
                        <% catagories.forEach(data=>{ %>
                      <!-- <li><a href="#" class="text-dark text-center"> <%-data.catagoryname -%></a></li> -->
                      
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="catagorybox<%-data._id-%>" name="catagoryees" value="<%-data._id-%>" />
                          <label class="form-check-label" for="flexCheckChecked1"><%-data.catagoryname-%> </label>
                          <span class="badge badge-secondary float-end"></span>
                        </div> 

                         <%})%>

                    </ul>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                  <button class="accordion-button text-dark bg-light" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#panelsStayOpen-collapseTwo" aria-expanded="true"
                    aria-controls="panelsStayOpen-collapseTwo">
                    Brands
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse show"
                  aria-labelledby="headingTwo">
                  <div class="accordion-body">
                    <div>
                      <!-- Checked checkbox -->

                        <% brandcount.forEach(data=>{ %>


                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="<%-data._id-%>" id="<%-data._id-%>" name="Brandnamees"  />
                          <label class="form-check-label" for="flexCheckChecked1"><%-data._id-%> </label>
                          <span class="badge badge-secondary float-end"><%-data.count-%></span>
                        </div>

                        <%})%>
                     


                    </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                  <button class="accordion-button text-dark bg-light" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#panelsStayOpen-collapseThree" aria-expanded="false"
                    aria-controls="panelsStayOpen-collapseThree">
                    Price
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse show"
                        aria-labelledby="headingThree">
                        <div class="accordion-body">
                            <div class="range">
                                <input type="range" class="form-range" id="priceRange" 
                                    min="10000" max="100000" oninput="updateMaxPrice()" />
                            </div>
                            <div class="row mb-3">
                                <div class="col-6">
                                    <p class="mb-0">Min</p>
                                    <div class="form-outline">
                                        <input type="number" id="minPrice" name="minPrice"
                                            class="form-control" value="10000" readonly />
                                        <label class="form-label" for="minPrice">₹ 10000</label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <p class="mb-0">Max</p>
                                    <div class="form-outline">
                                        <input type="number" id="maxPrice" name="maxPrice"
                                            class="form-control" value="100000" readonly />
                                        <label class="form-label" for="maxPrice">₹ 10,0000</label>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-white w-100 border border-secondary">Apply</button>
                        </div>
                    </div>
                </div>
              </form>
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                  <button class="accordion-button text-dark bg-light" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#panelsStayOpen-collapseFour" aria-expanded="false"
                    aria-controls="panelsStayOpen-collapseFour">
                    Size
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse show"
                  aria-labelledby="headingThree">
                  <div class="accordion-body">
                    <input type="checkbox" class="btn-check border justify-content-center" id="btn-check1" checked
                      autocomplete="off" />
                    <label class="btn btn-white mb-1 px-1" style="width: 60px;" for="btn-check1">64GB</label>
                    <input type="checkbox" class="btn-check border justify-content-center" id="btn-check2" checked
                      autocomplete="off" />
                    <label class="btn btn-white mb-1 px-1" style="width: 60px;" for="btn-check2">128GB</label>
                    <input type="checkbox" class="btn-check border justify-content-center" id="btn-check3" checked
                      autocomplete="off" />
                    <label class="btn btn-white mb-1 px-1" style="width: 60px;" for="btn-check3">256GB</label>
                    <input type="checkbox" class="btn-check border justify-content-center" id="btn-check4" checked
                      autocomplete="off" />
                    <label class="btn btn-white mb-1 px-1" style="width: 60px;" for="btn-check4">512GB</label>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                  <button class="accordion-button text-dark bg-light" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#panelsStayOpen-collapseFive" aria-expanded="false"
                    aria-controls="panelsStayOpen-collapseFive">
                    Ratings
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseFive" class="accordion-collapse collapse show"
                  aria-labelledby="headingThree">
                  <div class="accordion-body">
                    <!-- Default checkbox -->
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked />
                      <label class="form-check-label" for="flexCheckDefault">
                        <i class="fas fa-star text-warning"></i><i class="fas fa-star text-warning"></i><i
                          class="fas fa-star text-warning"></i><i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                      </label>
                    </div>
                    <!-- Default checkbox -->
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked />
                      <label class="form-check-label" for="flexCheckDefault">
                        <i class="fas fa-star text-warning"></i><i class="fas fa-star text-warning"></i><i
                          class="fas fa-star text-warning"></i><i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-secondary"></i>
                      </label>
                    </div>
                    <!-- Default checkbox -->
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked />
                      <label class="form-check-label" for="flexCheckDefault">
                        <i class="fas fa-star text-warning"></i><i class="fas fa-star text-warning"></i><i
                          class="fas fa-star text-warning"></i><i class="fas fa-star text-secondary"></i>
                        <i class="fas fa-star text-secondary"></i>
                      </label>
                    </div>
                    <!-- Default checkbox -->
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked />
                      <label class="form-check-label" for="flexCheckDefault">
                        <i class="fas fa-star text-warning"></i><i class="fas fa-star text-warning"></i><i
                          class="fas fa-star text-secondary"></i><i class="fas fa-star text-secondary"></i>
                        <i class="fas fa-star text-secondary"></i>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- sidebar -->
        <!-- content -->
        <div class="col-lg-9 ml-5">
          <header class="d-sm-flex align-items-center border-bottom mb-4 pb-3">
            <strong class="d-block py-2">Items found </strong>
            <div class="ms-auto">
              <select class="form-select d-inline-block w-auto border pt-1">
                <option value="0">Best match</option>
                <option value="1">Recommended</option>
                <option value="2">High rated</option>
                <option value="3">Randomly</option>
              </select>
              <div class="btn-group shadow-0 border">
                <button class="btn btn-light" title="List view" onclick="toggleView('listView')">
                  <i class="fa fa-bars fa-lg"></i>
                </button>
                <button class="btn btn-light active" title="Grid view" onclick="toggleView('gridView')">
                  <i class="fa fa-th fa-lg"></i>
                </button>
              </div>
              
            </div>
          </header>

          <div class="row" id="listViewSection" style="display: none;">
            <% allprodts.forEach(data=>{ %>
              <div class="col-md-12 mb-3">
                <div class="card shadow-0 border rounded-3">
                  <div class="card-body">
                    <div class="row g-0">
                      <div class="col-xl-3 col-md-4 d-flex justify-content-center">
                        <div class="bg-image hover-zoom ripple rounded ripple-surface me-md-3 mb-3 mb-md-0">
                          <img src="/productimages/<%=data.images[0]%>" class="w-100" >
                          <a href="#!">
                            <div class="hover-overlay">
                              <div class="mask" style="background-color: rgba(253, 253, 253, 0.15);"></div>
                            </div>
                          </a>
                        </div>
                      </div>
                      <div class="col-xl-6 col-md-5 col-sm-7">
                        <h5><%-data. productName -%></h5>
                        <div class="d-flex flex-row">
                          <div class="text-warning mb-1 me-2">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="ms-1">
                              4.5
                            </span>
                          </div>
                          <span class="text-muted"></span>
                        </div>
                        <p class="text mb-4 mb-md-0">
                         <%-data.Description -%>
                        </p>
                      </div>
                      <div class="col-xl-3 col-md-3 col-sm-5">
                        <div class="d-flex flex-row align-items-center mb-1">
                          <h4 class="mb-1 me-1">₹<%-data.DiscountAmount-%></h4>
                          <span class="text-danger"><s>₹<%-data.Price-%></s></span>
                        </div>
                        <h6 class="text-success">Free shipping</h6>
                        <div class="mt-4">
                        <% if(locals.user){%>
                            <a href="/singleproducts/<%-data._id-%>" class="btn btn-outline-primary shadow-0" type="button">View</a>
                          <%}else{%>
                            <a href="/singleproducts/" class="btn btn-outline-primary shadow-0" type="button">View</a>
                          <%}%>
                          <a href="#!" class="btn btn-light border px-2 pt-2 icon-hover">
                            <i class="fas fa-heart fa-lg px-1"></i>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <%})%>
          </div>
          

            <div class="row" id="gridViewSection">
              <% allprodts.forEach(data=>{ %>
                <div class="col-lg-4 col-md-6 col-sm-6 my-2">
                  <div class="card shadow-2-strong">
                    <img src="/productimages/<%=data.images[0]%>" class="card-img-top"  style="height: 306px;" />
                    <div class="card-body">
                      <h6 style="font-size: 18px;"></h6><br>
                      <div class="d-flex flex-row">
                        <h6 class="mb-1 me-1">₹<%-data.DiscountAmount-%> </h6>
                        <span class="text-danger"><s>₹<%-data.Price-%></s></span>
                      </div>

                      <p class="card-text"><%-data.productName-%>  <span style="margin-left: 10px"> </span></p>
                      <p class="card-text">Category:<%-data.catagory.catagoryname-%>  <span style="margin-left: 10px"> </span></p>

                      <div class="d-flex justify-content-end" style="margin-top: 5px;">
                      
                        <a href="/singleproducts/<%-data._id-%>" class="btn btn-outline-primary shadow-0 me-1" >View</a>
                      
                     
  
  
                        <a href="#!" class="btn btn-light border  icon-hover px-2 pt-2" ><i class="fas fa-heart fa-lg text-secondary px-1"></i></a>
                      </div>
                    </div>

                  </div>
                </div>
             <%})%>
            </div>
            

              <!-- Pagination -->
              <nav aria-label="Page navigation example" class="d-flex justify-content-center mt-3"
                style="margin-bottom: 110px ">
                <ul class="pagination">
                    <% for (let i = 1; i <= totalPages; i++) { %>
                        <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                            <a class="page-link" href="?page=<%= i %>&perPage=<%= perPage %>"><%= i %></a>
                        </li>
                    <% } %>
                </ul>
              </nav>
            
              
        </div>
      <!-- </div> -->
    </div>
  </div>
  <%-include('../partials/footernav.ejs')-%>








 






  <!-- jQuery -->
  <script src="/js/jquery-2.1.0.min.js"></script>

  <!-- Bootstrap -->
  <script src="/js/popper.js"></script>
  <script src="/js/bootstrap.min.js"></script>

  <!-- Plugins -->
  <script src="/js/owl-carousel.js"></script>
  <script src="/js/accordions.js"></script>
  <script src="/js/datepicker.js"></script>
  <script src="/js/scrollreveal.min.js"></script>
  <script src="/js/waypoints.min.js"></script>
  <script src="/js/jquery.counterup.min.js"></script>
  <script src="/js/imgfix.min.js"></script>
  <script src="/js/slick.js"></script>
  <script src="/js/lightbox.js"></script>
  <script src="/js/isotope.js"></script>

  <!-- Global Init -->
  <script src="/js/custom.js"></script>

  <script>

    // const CatagoryDeatail=document.querySelector('.list-unstyled')

    // function setCatagory(catgory){

    //   const allCatagory=catgory.map((prduct)=> product.catagoryname)
    //   console.log(allCatagory);
    // }

    // setCatagory(catagories)
    function updateMaxPrice() {
    // Get the range input element
    var range = document.getElementById("priceRange");
    // Get the minimum price input element
    var minPriceInput = document.getElementById("minPrice");
    // Get the maximum price input element
    var maxPriceInput = document.getElementById("maxPrice");
    
    // Update the value of the maximum price input with the value of the range slider
    maxPriceInput.value = range.value;
}

// Run the function initially to set the initial values
updateMaxPrice();


    

  </script>


<script>
  function toggleView(view) {
    if (view === 'listView') {
      document.getElementById('gridViewSection').style.display = 'none';
      document.getElementById('listViewSection').style.display = 'block';
    } else {
      document.getElementById('gridViewSection').style.display = 'block';
      document.getElementById('listViewSection').style.display = 'none';
    }
  }
</script>






  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>


</body>

</html>
      
  






















