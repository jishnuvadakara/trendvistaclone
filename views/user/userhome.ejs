<%-include('../layout/user/header.ejs')-%>
<%-include('../partials/usernave.ejs')-%>
<style>
  #myCarousel {
    margin-top: 50px;
}
.img-fluid{
  height: 350px;
}
@media (max-width: 768px) {
    .carousel-inner .carousel-item>div {
        display: none;
    }

    .carousel-inner .carousel-item>div:first-child {
        display: block;
    }
}

.carousel-inner .carousel-item.active,
.carousel-inner .carousel-item-start,
.carousel-inner .carousel-item-next,
.carousel-inner .carousel-item-prev {
    display: flex;
}

@media (min-width: 768px) {

    .carousel-inner .carousel-item-right.active,
    .carousel-inner .carousel-item-next,
    .carousel-item-next:not(.carousel-item-start) {
        transform: translateX(25%) !important;
    }

    .carousel-inner .carousel-item-left.active,
    .carousel-item-prev:not(.carousel-item-end),
    .active.carousel-item-start,
    .carousel-item-prev:not(.carousel-item-end) {
        transform: translateX(-25%) !important;
    }

    .carousel-item-next.carousel-item-start,
    .active.carousel-item-end {
        transform: translateX(0) !important;
    }

    .carousel-inner .carousel-item-prev,
    .carousel-item-prev:not(.carousel-item-end) {
        transform: translateX(-25%) !important;
    }
}
      </style>
       <style>
  .animate-charcter {
    text-transform: uppercase;
    background-image: linear-gradient(
      -225deg,
      rgb(17, 4, 66) 0%,
      #44107a 29%,
      #77072c 67%,
      #0b8d1f 100%
    );
    background-size: auto auto;
    background-clip: border-box;
    background-size: 20% auto;
    color: #fff;
    background-clip: text;
    text-fill-color: transparent;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: textclip 2s linear infinite;
    display: inline-block;
    font-size: 19px;
  }

  @keyframes textclip {
    to {
      background-position: 200% center;
    }
  }
   #myBtn {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 99;
      border: none;
      outline: none;
      background-color: red;
      color: white;
      cursor: pointer;
      padding: 15px;
      border-radius: 10px;
      font-size: 18px;
    }

    #myBtn:hover {
      background-color: #555;
    }

    #wordCount {
      color: red;
    }
</style>
<!----------------------------------------------------------Carousel-------------------------------------------------------------------------------->

 
<div id="carouselExampleCaptions" class="carousel slide">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="/assets/Banner- 3.jpg" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>First slide label</h5>
          <p>Some representative placeholder content for the first slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="/assets/Banner-2.jpg" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>Second slide label</h5>
          <p>Some representative placeholder content for the second slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="/assets/Banner_1.jpg" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h5>Third slide label</h5>
          <p>Some representative placeholder content for the third slide.</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
  
  <!--------------------------End the carousel ------------------------------------------------------------------------------------------------------------------->
  
  <!--------------------------Brand Seaperation ------------------------------------------------------------------------------------------------------------------>
  <div class="container mt-5">
    <div class="row">
      <h2 style="padding: 10px ; width: 100%; background-color:white;">Brands</h2>
  
     
      <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start "><div class="card mt-2" style="width: 15rem;">
        <a href="#" style="text-decoration: none; color: black;">
        <img src="/assets/SM.png" class="card-img-top shadow-sm" alt="..." style="height: 122px;">
      
      </a>
      </div></div>
    </a>
  
      <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start "><div class="card mt-2" style="width: 15rem;">
        <a href="#" style="text-decoration: none; color: black;">
        <img src="/assets/MI.png" class="card-img-top shadow-sm" alt="..." style="height: 122px;">
    
      </div></div></a>
  
      <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start "><div class="card mt-2" style="width: 15rem;">
        <a href="#" style="text-decoration: none; color: black;">
        <img src="/assets/AP.png" class="card-img-top shadow-sm" alt="..." style="height: 122px;">
       
      </div></div></a>
  
      <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start"><div class="card mt-2" style="width: 15rem;">
        <a href="#" style="text-decoration: none; color: black;">
        <img src="/assets/OP.png" class="card-img-top shadow-sm" alt="..."  style="height: 122px;">
    
      </div></div></a>
  
    </div>
  </div>
  
  <div class="container mt-5">
    <div class="row">
  <div style="display: flex;justify-content: center;">
   
   
    <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start"><div class="card mt-2" style="width: 15rem;">
      <a href="/login" style="text-decoration: none; color: black;">
      <img src="/assets/1+.png" class="card-img-top shadow-sm" alt="..."  style="height: 122px;">
     
    </div></div></a>

    <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start"><div class="card mt-2" style="width: 15rem;">
      <a href="/login" style="text-decoration: none; color: black;">
      <img src="/assets/RE.png" class="card-img-top shadow-sm" alt="..."  style="height: 122px;">
    
    </div></div></a>
    </div>
    </div>
  </div>
    
  <!--End the seaparation --------->
  <!-- Design----------------------------------------------------- -->

  <div class="container animate-charcter" style="margin-left: 66px;">
    <h4 class=" ">Latest smart phones</h4>
  </div>
  <section>

   
    <div id="myCarousel" class="carousel slide container" data-bs-ride="carousel">
        <div class="carousel-inner w-100">
            <% allproduct.forEach((ele, index) => { %>
                <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
                    <div class="col-md-3">
                        <div class="card card-body">
                            <img class="img-fluid" src="/productimages/<%= ele.images[0] %>">
                            <div class="mt-4">
                                <a href="/singleproducts/<%-ele._id-%>" class="btn btn-outline-primary shadow-0" type="button">View</a>
                            </div>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    
</section>

   <!---------------------------------------------------- catagory--------------->
   <section>
  
    <div class="container mt-4">
      <div class="row">
        <h2 style="padding: 10px ; width: 100%; background-color:white;">Flagship Mobiles</h2>
        
           <% product.forEach(ele=>{%>
            <% if(ele.catagory.catagoryname=="FLAGSHIP MOBILES"){%>
         
       
          <div class="col-6 col-md-3 col-sm-6 d-flex justify-content-center justify-content-md-start">
              <div class="card h-90 shadow-sm mt-4" style="position:relative;">
                  <a href="" target="_blank">
                    <img src="/productimages/<%=ele.images[0]%>" class="card-img-top" alt="product.title" style="width:100%; height:300px; padding:20px;" />
                  </a>
              
                  <div class="label-top shadow-0">
                    <a class="text-white" href="" target="_blank">r</a>
                  </div>
                  <div class="card-body">
                    <h5><%-ele.productName-%></h5>
                    <h7 style="font-weight: 500;">₹<%-ele. DiscountAmount-%></h7>&nbsp;&nbsp;<p7><del style="color: red; font-size: 13px;">₹<%-ele. Price-%></del></p7>
                    <div class="clearfix mb-1">
                      <h7></h7>
                      <span class="float-start rounded-pill "></span>
    
                      <span class="float-end" style="position: absolute;    color: white;
                      position: absolute;
                      top: 15px;
                      background-color: red;
                      border-radius: 17px;
                      right: 34px;
                     text-align: center;
                      border: 2px solid red;
                      width: 33px;
                  ">
                        <i class="far fa-heart" style="cursor: pointer"></i>
              
                      </span>
                    </div>
                    <p class="card-title m-1" style="font-size: 12px;">
                      <a target="_blank " style="text-decoration: none;color: black;" href="#"></a>
                    </p>
              
                    <!-- <div class="d-grid gap-1 my-1">
              
                      <a href="#" class="btn btn-dark bold-btn">add to cart</a>
              
                    </div> -->
                    <div class="d-flex  my-1">
              
                      <a href="/singleproducts/<%-ele._id-%>"  style="width: 48%;" class="btn btn-dark bold-btn">View </a>
                      <a class="btn btn-dark bold-btn ms-2 " onclick="addTocart('')" style="width: 48%;">Add to cart</a>
                    </div>
                   
                </div>
              </div>
    
          </div>
        <% } %>
          <%})%>
      </div>
    </div>
  </section>
 <div style="display: flex; justify-content: end;">
   <button
    onclick="openModal()"
    id="myBtn"
    title="Go to top"
    type="button"
    class="btn btn-sm"
    style="display: block"
  >
    Feedback
  </button>
 </div>
  <!-- <div style="height: 1000px">
    <h1>
      <div>
        <h4></h4>
      </div>
    </h1>
  </div> -->
 <div class="container demo">
    <div class="modal right fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" style="background-color: rgb(255, 255, 255);">
                <div class="modal-body">
                    <h5>Feedback Form</h5>
                    <form id="Feedbackresponse" method="post">
                        <div id="panelsStayOpen-collapseFive" class="accordion-collapse collapse show" aria-labelledby="headingThree">
                            <div class="accordion-body">
                                <!-- Default radio buttons -->
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="flexRadioDefault1" value="5">
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                    </label>
                                </div>
                                <!-- Default radio buttons -->
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="flexRadioDefault2" value="4">
                                    <label class="form-check-label" for="flexRadioDefault2">
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-secondary"></i>
                                    </label>
                                </div>
                                <!-- Default radio buttons -->
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="flexRadioDefault3" value="3">
                                    <label class="form-check-label" for="flexRadioDefault3">
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-secondary"></i>
                                        <i class="fas fa-star text-secondary"></i>
                                    </label>
                                </div>
                                <!-- Default radio buttons -->
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="rating" id="flexRadioDefault4" value="2">
                                    <label class="form-check-label" for="flexRadioDefault4">
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-secondary"></i>
                                        <i class="fas fa-star text-secondary"></i>
                                        <i class="fas fa-star text-secondary"></i>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackTextarea" class="form-label">Your Feedback (Limit: 100 words)</label>
                            <!-- <input type="text" class="form-control" id="feedbackresponse" name="feedbackresponse"> -->
                            <textarea class="form-control" id="feedbackTextarea" rows="3" oninput="countWords()"></textarea>
                            <input type="text" name="UserId" id="UserId"  value="<%=userId%>" hidden>
                            <div id="wordCount">0/100 words</div>
                        </div>
                        <button type="button" class="btn btn-primary" onclick="submitForm()">Submit</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

  
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
  <script>
    $('.carousel .carousel-item').each(function () {
var minPerSlide = 4;
var next = $(this).next();
if (!next.length) {
next = $(this).siblings(':first');
}
next.children(':first-child').clone().appendTo($(this));

for (var i = 0; i < minPerSlide; i++) { next=next.next(); if (!next.length) { next=$(this).siblings(':first'); } next.children(':first-child').clone().appendTo($(this)); } });



   function openModal() {
      $("#exampleModal").modal("show");
    }
    function closeModal() {
      $("#exampleModal").modal("hide");
    }

    // Close modal when clicking outside of it
    window.addEventListener('click', function (event) {
      var modal = document.getElementById('exampleModal');
      if (event.target === modal) {
        closeModal();
      }
    });

    function countWords() {
      var words = document.getElementById("feedbackTextarea").value.trim().split(/\s+/).length;
      var wordCountElement = document.getElementById("wordCount");
      if (words <= 100) {
        wordCountElement.textContent = words + "/100 words";
      } else {
        document.getElementById("feedbackTextarea").value = document.getElementById("feedbackTextarea").value.split(/\s+/).slice(0, 100).join(" ");
      }
    }

    window.addEventListener("scroll", function () {
      var mybutton = document.getElementById("myBtn");
      if (window.scrollY > 100) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    });

    function topFunction() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  </script>
  <!-- endDesign----------------------------------------------------- -->
  
  <!-----------------------------------------Category-------------------------------------------------------------------------------------------->
  
  
  <!--AFter i add categary whise data-->
  

























<%-include('../partials/footernav.ejs')-%>
<%-include('../layout/user/footer.ejs')-%>